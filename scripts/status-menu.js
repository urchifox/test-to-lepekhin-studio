var g=new Map([["status-online",{color:"rgba(34, 197, 94, 1)",text:"\u0412 \u0441\u0435\u0442\u0438"}],["status-dont-disturb",{color:"rgb(197, 34, 34)",text:"\u041D\u0435 \u0431\u0435\u0441\u043F\u043E\u043A\u043E\u0438\u0442\u044C"}]]),r=document.querySelector(".header__wrapper"),i=r.querySelector(".status-menu"),m=i.querySelector(".status-menu__current"),a=i.querySelector(".status-menu__toggler"),e=document.querySelector(".status-menu__popup"),_=()=>{let t=r.getBoundingClientRect(),n=e.getBoundingClientRect(),d=window.screen.width,l=n.left-t.left,p=d-l-24;e.style.maxWidth=`${p}px`},o=t=>{let n=g.get(t.target.id);a.style.setProperty("--icon-color",n.color),m.textContent=n.text},c=t=>{t.target.closest(".status-menu__popup")||s()},u=t=>{t.key==="Escape"&&s()},y=t=>{t.stopPropagation(),s()};function s(){e.classList.toggle("status-menu__popup--is-opened"),e.classList.toggle("status-menu__popup--is-closed"),e.classList.contains("status-menu__popup--is-opened")?(document.addEventListener("click",c),document.addEventListener("keydown",u),e.addEventListener("change",o)):(document.removeEventListener("click",c),document.removeEventListener("keydown",u),e.removeEventListener("change",o))}var h=()=>{_(),a.addEventListener("click",y)};export{h as init};
