var g=new Map([["status-online",{color:"rgba(34, 197, 94, 1)",text:"\u0412 \u0441\u0435\u0442\u0438"}],["status-dont-disturb",{color:"rgb(197, 34, 34)",text:"\u041D\u0435 \u0431\u0435\u0441\u043F\u043E\u043A\u043E\u0438\u0442\u044C"}]]),i=document.querySelector(".header"),s=i.querySelector(".status-menu"),m=s.querySelector(".status-menu__current"),a=s.querySelector(".status-menu__toggler"),e=s.querySelector(".status-menu__popup"),_=()=>{let t=i.getBoundingClientRect(),n=e.getBoundingClientRect(),d=window.screen.width,l=n.left-t.left,p=d-l-24;e.style.maxWidth=`${p}px`},c=t=>{let n=g.get(t.target.id);a.style.setProperty("--icon-color",n.color),m.textContent=n.text},u=t=>{t.target.closest(".status-menu__popup")||o()},r=t=>{t.key==="Escape"&&o()},y=t=>{t.stopPropagation(),o()};function o(){e.classList.toggle("status-menu__popup--is-opened"),e.classList.toggle("status-menu__popup--is-closed"),e.classList.contains("status-menu__popup--is-opened")?(document.addEventListener("click",u),document.addEventListener("keydown",r),e.addEventListener("change",c)):(document.removeEventListener("click",u),document.removeEventListener("keydown",r),e.removeEventListener("change",c))}var h=()=>{_(),a.addEventListener("click",y)};export{h as init};
