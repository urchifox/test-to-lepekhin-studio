var r=document.querySelector(".header__wrapper"),l=r.querySelector(".user-menu"),o=l.querySelector(".user-menu__toggler"),t=document.querySelector(".user-menu__popup"),a=()=>{let e=r.getBoundingClientRect(),i=t.getBoundingClientRect(),u=e.width,d=e.right-i.right,p=u-d-24;t.style.maxWidth=`${p}px`},s=e=>{e.target.closest(".user-menu__popup")||n()},c=e=>{e.key==="Escape"&&n()},g=e=>{e.stopPropagation(),n()};function n(){t.classList.toggle("user-menu__popup--is-opened"),t.classList.toggle("user-menu__popup--is-closed"),t.classList.contains("user-menu__popup--is-opened")?(document.addEventListener("click",s),document.addEventListener("keydown",c)):(document.removeEventListener("click",s),document.removeEventListener("keydown",c))}var m=()=>{o.addEventListener("click",a,{once:!0}),o.addEventListener("click",g)};export{m as init};
